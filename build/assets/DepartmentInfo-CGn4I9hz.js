import{r as a,j as e}from"./index-CKztDtJy.js";import{s as o}from"./DefaultLayout-drVV0bc4.js";import{a as p,b as h}from"./api-4LTkHDOH.js";import{u as j}from"./index.esm-DfxCvAVt.js";import{F as $,o as R,i as Y}from"./paginationfunction-B49fKIag.js";import{s as z}from"./searchFunction-BiSHdcbM.js";import{a as n}from"./cil-lock-locked-BpC8pGRs.js";import{C,a as D,b as N,c as g}from"./CModalTitle-BU48dgnT.js";import{C as y,a as v}from"./CRow-0X0jrKxb.js";import{C as S}from"./CModalFooter-B4orBi9B.js";import{B as H}from"./button-DLjvLRGX.js";import{R as O}from"./EditOutlined-CK6NbNrn.js";import"./index.esm-l88VbVbR.js";import"./AntdIcon-D6PjId85.js";import"./compact-item-BzXGub8O.js";import"./index-hf0OX2Zc.js";import"./index-Bcvj8bKn.js";import"./index-C3yXsqH-.js";const de=()=>{const[c,E]=a.useState([]),[d,I]=a.useState({}),[T,m]=a.useState(!1),[f,k]=a.useState(""),[x,l]=a.useState(!1),[u,r]=a.useState(!1);a.useEffect(()=>{p.get(`${h}/setting/department`).then(t=>{const s=t.data.data,i=z(s,f,"DEPT_NAME");E(i),m(!1)}).catch(t=>{alert(t.message)})},[f,T]);const{register:w,reset:A,formState:{errors:b},handleSubmit:F}=j(),{register:P,reset:_,formState:{errors:V},handleSubmit:M}=j(),L=t=>{o({title:"Are you sure?",buttons:!0}).then(s=>{s?(t.DEPT_ID=d.DEPT_ID,p({method:"put",url:`${h}/setting/department`,data:t}).then(i=>{i&&(o({title:"Thank You !",text:"Successfully Update",icon:"success",button:"Ok"}),m(!0),_(),r(!1))})):o("Your imaginary file is safe!")})},U=t=>{o({title:"Are you sure?",buttons:!0}).then(s=>{s?p({method:"post",url:`${h}/setting/department`,data:t}).then(i=>{i&&(o({title:"Thank You !",text:"Successfully Insert",icon:"success",button:"Ok"}),m(!0),A(),l(!1))}):o("Your imaginary file is safe!")})},B=[{title:" ID",className:"dark_bg text-center",dataIndex:"DEPT_ID",width:"10%"},{title:"Department Name",className:"dark_bg ",dataIndex:"DEPT_NAME",width:"70%"},{title:"Action",width:"20%",className:"dark_bg text-center",render:(t,s)=>e.jsx("div",{className:"text-center",children:e.jsx(H,{style:{backgroundColor:"#3C8DBC",color:"#fff"},onClick:()=>{r(!u),I(s)},title:"Access Product",shape:"circle",icon:e.jsx(O,{})})})}];return e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex justify-content-end",children:[e.jsx("div",{className:"me-2",children:e.jsxs("div",{className:"position-relative",children:[e.jsx("i",{className:"fa fa-search position-absolute",style:{left:"10px",top:"50%",transform:"translateY(-50%)",color:"#999"}}),e.jsx("input",{onChange:t=>{k(t.target.value)},className:"form-control w-100 shadow ps-4 ms-1",type:"text",placeholder:"Search Here",style:{paddingLeft:"35px"}})]})}),e.jsx("div",{className:"text-end",children:e.jsx(n,{style:{backgroundColor:"#3C8DBC",color:"#fff"},onClick:()=>l(!x),children:"+ Add Department"})})]}),e.jsx("div",{className:"mt-4",children:e.jsx("div",{className:"row ",children:e.jsx("div",{className:"col-md-12 ",children:e.jsx("div",{className:"table-responsive",children:e.jsx("div",{className:"customDepartmentTable",children:e.jsx($,{className:"table-striped",pagination:{total:c===void 0?0:c.length,showTotal:(t,s)=>`Showing ${s[0]} to ${s[1]} of ${t} entries`,showSizeChanger:!0,onShowSizeChange:R,itemRender:Y},style:{overflowX:"auto"},columns:B,bordered:!0,dataSource:c===void 0?[]:c,rowKey:t=>t.DEPT_ID,onChange:console.log("change")})})})})})}),e.jsxs(C,{visible:x,size:"lg",onClose:()=>l(!1),"aria-labelledby":"LiveDemoExampleLabel",children:[e.jsx(D,{onClose:()=>l(!1),children:e.jsx(N,{id:"LiveDemoExampleLabel",style:{fontFamily:"Segoe UI"},children:"Add Department Information"})}),e.jsx(g,{children:e.jsxs("form",{onSubmit:F(U),children:[e.jsx(y,{children:e.jsx(v,{xs:12,children:e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",style:{fontFamily:"Segoe UI"},children:["Department Name ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",className:`form-control ${b.DEPT_NAME?"is-invalid":""}`,id:"exampleFormControlInput14",placeholder:"Department Name",...w("DEPT_NAME",{required:!0})}),e.jsx("div",{className:"invalid-feedback",children:b.DEPT_NAME&&"Please enter a department name."})]})})}),e.jsx("div",{className:"submit-section",children:e.jsxs(S,{className:"justify-content-center",style:{borderTop:"none"},children:[e.jsx(n,{color:"secondary",onClick:()=>l(!1),children:"Close"}),e.jsx(n,{style:{backgroundColor:"#3C8DBC",color:"#fff"},type:"submit",children:"Add"})]})})]})})]}),d&&e.jsxs(C,{visible:u,size:"lg",onClose:()=>r(!1),"aria-labelledby":"LiveDemoExampleLabel",children:[e.jsx(D,{onClose:()=>r(!1),children:e.jsx(N,{id:"LiveDemoExampleLabel",style:{fontFamily:"Segoe UI"},children:"Update Department Information"})}),e.jsx(g,{children:e.jsxs("form",{onSubmit:M(L),children:[e.jsx(y,{children:e.jsx(v,{xs:12,children:e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",style:{fontFamily:"Segoe UI"},children:"Department Name"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",placeholder:d.DEPT_NAME,...P("DEPT_NAME")})]})})}),e.jsx("div",{className:"submit-section",children:e.jsxs(S,{className:"justify-content-center",style:{borderTop:"none"},children:[e.jsx(n,{color:"secondary",onClick:()=>r(!1),children:"Close"}),e.jsx(n,{style:{backgroundColor:"#3C8DBC",color:"#fff"},type:"submit",children:"Update"})]})})]})})]})]})};export{de as default};
