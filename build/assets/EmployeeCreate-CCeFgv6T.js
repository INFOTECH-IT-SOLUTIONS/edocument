import{k as B,r,j as e}from"./index-CKztDtJy.js";import{a as n,b as m}from"./api-4LTkHDOH.js";import{u as k,C as h}from"./index.esm-DfxCvAVt.js";import{C as N,a as i}from"./CRow-0X0jrKxb.js";import{S as d}from"./index-Bcvj8bKn.js";import{C as p}from"./CFormSelect-CPq8O466.js";import{a as q}from"./cil-lock-locked-BpC8pGRs.js";import"./AntdIcon-D6PjId85.js";import"./compact-item-BzXGub8O.js";import"./index-hf0OX2Zc.js";import"./CFormControlWrapper-BnoYfkTj.js";const ee=()=>{const{register:s,reset:u,formState:{errors:t},handleSubmit:j,control:x}=k(),b=B(),[I,f]=r.useState(),[F,C]=r.useState(),[g,v]=r.useState([]),[E,D]=r.useState(),[S,y]=r.useState([]),[A,M]=r.useState(),[P,_]=r.useState([]),[O,T]=r.useState(),c=(l,a)=>((a==null?void 0:a.label)??"").toLowerCase().includes(l.toLowerCase()),R=l=>{D(l)},w=l=>{M(l)},L=l=>{T(l)},G=l=>{const a=l.target.files[0];f(a),C(URL.createObjectURL(a))};r.useEffect(()=>{n.get(`${m}/setting/designation`).then(l=>{v(l.data.data)}).catch(l=>{alert(l.message)})},[]),r.useEffect(()=>{n.get(`${m}/admistration/companyinfo`).then(l=>{_(l.data.data)}).catch(l=>{alert(l.message)})},[]),r.useEffect(()=>{n.get(`${m}/setting/department`).then(l=>{y(l.data.data)}).catch(l=>{alert(l.message)})},[]);const $=l=>{l.DESIG_ID=parseInt(E),l.DEPT_ID=parseInt(A),l.COM_ID=parseInt(O),console.log(l);const a=new FormData;a.append("image",I);for(const o in l)Object.prototype.hasOwnProperty.call(l,o)&&a.append(o,l[o]);n.post(`${m}/setting/employee`,a).then(o=>{b(-1)}).catch(o=>{alert(o.message)}),u()};return e.jsx("div",{children:e.jsxs("form",{onSubmit:j($),className:"bg-white p-5 my-3",children:[e.jsxs(N,{children:[e.jsxs(i,{xs:4,className:"",children:[e.jsx("div",{style:{borderRadius:"11px",fontFamily:"Segoe UI"},children:e.jsx("img",{src:F||"/placeholder.jpg",width:"150px",height:"150px",alt:"Uploaded Preview",style:{borderRadius:"50%"}})}),e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",children:["Image ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"file",name:"image",className:`form-control ${t.filePath?"is-invalid":""}`,...s("filePath",{required:"Image File is required"}),id:"exampleFormControlInput14",onChange:l=>G(l)}),t.filePath&&e.jsx("div",{className:"invalid-feedback",children:t.filePath.message})]}),e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",children:["Employee Name ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",className:`form-control ${t.EMP_NAME?"is-invalid":""}`,id:"exampleFormControlInput14",placeholder:"Employee Name",...s("EMP_NAME",{required:!0})}),e.jsx("div",{className:"invalid-feedback",children:t.EMP_NAME&&"Please enter an employee name."})]}),e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",children:["Mobile ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",className:`form-control ${t.MOBILE?"is-invalid":""}`,id:"exampleFormControlInput14",placeholder:"Mobile",...s("MOBILE",{required:!0})}),e.jsx("div",{className:"invalid-feedback",children:t.MOBILE&&"Please enter a mobile number."})]}),e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",children:["Email ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",className:`form-control ${t.EMAIL?"is-invalid":""}`,id:"exampleFormControlInput14",placeholder:"Email",...s("EMAIL",{required:!0})}),e.jsx("div",{className:"invalid-feedback",children:t.EMAIL&&"Please enter a valid email address."})]}),e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",children:["Designation ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(h,{name:"DESIG_NAME",control:x,rules:{required:!0},render:({field:l})=>e.jsx(d,{...l,showSearch:!0,placeholder:"Select a Designation",optionFilterProp:"children",onChange:a=>{l.onChange(a),R(a)},filterOption:c,className:`w-100 ${t.DESIG_NAME?"is-invalid":""}`,options:g.map(a=>({value:a.DESIG_ID,label:a.DESIG_NAME}))})}),e.jsx("div",{className:"invalid-feedback",children:t.DESIG_NAME&&"Please select a designation."})]}),e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",children:["Department ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(h,{name:"DEPT_NAME",control:x,rules:{required:!0},render:({field:l})=>e.jsx(d,{...l,showSearch:!0,placeholder:"Select a Department",optionFilterProp:"children",onChange:a=>{l.onChange(a),w(a)},filterOption:c,options:S.map(a=>({value:a.DEPT_ID,label:a.DEPT_NAME})),className:`w-100 ${t.DEPT_NAME?"is-invalid":""}`})}),e.jsx("div",{className:"invalid-feedback",children:t.DEPT_NAME&&"Please select a department."})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",children:"Status"}),e.jsxs(p,{className:"mb-3",...s("EMP_STATUS"),"aria-label":"Large select example",children:[e.jsx("option",{children:"Open this select menu"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Deactive",children:"Deactive"})]})]})]}),e.jsx(i,{xs:8,children:e.jsxs(N,{children:[e.jsxs(i,{xs:6,children:[e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",children:"Card NO"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",placeholder:"Card No",...s("CARD_NO")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",children:"Father Name"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",placeholder:"Father Name",...s("FATHER_NAME")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",children:"Present Address"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",placeholder:"Present Address",...s("PRESENT_ADDRESS")})]})," ",e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",children:"Gender"}),e.jsxs(p,{...s("SEX"),"aria-label":"Large select example",children:[e.jsx("option",{children:"Open this select menu"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"}),e.jsx("option",{value:"Other",children:"Other"})]})]})," ",e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",children:"Marital Status"}),e.jsxs(p,{...s("MARITAL_STATUE"),"aria-label":"Large select example",children:[e.jsx("option",{children:"Open this select menu"}),e.jsx("option",{value:"Married ",children:"Married "}),e.jsx("option",{value:"Unmarried",children:"Unmarried "})]})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",children:"Passport No"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",placeholder:"Passport No",...s("PASSPORT_NO")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",children:["Joining Date ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"date",className:`form-control ${t.JOINING_DATE?"is-invalid":""}`,id:"exampleFormControlInput14",placeholder:"Joining Date",...s("JOINING_DATE",{required:!0})}),e.jsx("div",{className:"invalid-feedback",children:t.JOINING_DATE&&"Please select a joining date."})]})]}),e.jsxs(i,{xs:6,children:[" ",e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",children:["Company Name ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(d,{showSearch:!0,placeholder:"Select a Company",optionFilterProp:"children",className:"w-100",style:{height:"38px"},onChange:L,filterOption:c,options:P.map(l=>({value:l.COM_ID,label:l.COMP_NAME}))})]})," ",e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",children:"Mother Name"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",placeholder:"Mother Name",...s("MOTHER_NAME")})]})," ",e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",children:"Permanent Address"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",placeholder:"Permanent Address",...s("PERMANENT_ADDRESS")})]})," ",e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",children:"Blood Group"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",placeholder:"Blood Group",...s("BLOOD_GROUP")})]})," ",e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",children:"Religion"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",placeholder:"Religion",...s("RELIGION")})]})," ",e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",children:["Date Of Birth ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"date",className:`form-control ${t.DATE_OF_BIRTH?"is-invalid":""}`,id:"exampleFormControlInput14",placeholder:"Date Of Birth",...s("DATE_OF_BIRTH",{required:!0})})]})," ",e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",children:["Confirmation Date ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"date",className:`form-control ${t.CONFIRMATION_DATE?"is-invalid":""}`,id:"exampleFormControlInput14",placeholder:"Confirmation Date",...s("CONFIRMATION_DATE",{required:!0})})]})]})]})})]}),e.jsx("div",{className:"submit-section d-flex justify-content-center",children:e.jsx("div",{className:" w-25",style:{borderTop:"none"},children:e.jsx(q,{style:{backgroundColor:"#3C8DBC",color:"#fff"},className:"ms-2 my-1 py-2 w-100",type:"submit",children:"Save"})})})]})})};export{ee as default};
